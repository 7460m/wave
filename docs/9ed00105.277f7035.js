(window.webpackJsonp=window.webpackJsonp||[]).push([[144],{198:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return i})),t.d(n,"metadata",(function(){return c})),t.d(n,"rightToc",(function(){return s})),t.d(n,"default",(function(){return p}));var r=t(2),o=t(6),a=(t(0),t(290)),i={title:"Configuration"},c={unversionedId:"configuration",id:"configuration",isDocsHomePage:!1,title:"Configuration",description:"Configuring the server",source:"@site/docs/configuration.md",slug:"/configuration",permalink:"/wave/docs/configuration",editUrl:"https://github.com/h2oai/wave/edit/master/website/docs/configuration.md",version:"current",sidebar:"someSidebar",previous:{title:"Browser Testing",permalink:"/wave/docs/browser-testing"},next:{title:"Backup and Recovery",permalink:"/wave/docs/backup"}},s=[{value:"Configuring the server",id:"configuring-the-server",children:[{value:"Command line options",id:"command-line-options",children:[]}]},{value:"Configuring your app",id:"configuring-your-app",children:[{value:"H2O_WAVE_INTERNAL_ADDRESS",id:"h2o_wave_internal_address",children:[]},{value:"H2O_WAVE_EXTERNAL_ADDRESS",id:"h2o_wave_external_address",children:[]},{value:"H2O_WAVE_ADDRESS",id:"h2o_wave_address",children:[]},{value:"H2O_WAVE_ACCESS_KEY_ID",id:"h2o_wave_access_key_id",children:[]},{value:"H2O_WAVE_ACCESS_KEY_SECRET",id:"h2o_wave_access_key_secret",children:[]}]}],l={rightToc:s};function p(e){var n=e.components,t=Object(o.a)(e,["components"]);return Object(a.b)("wrapper",Object(r.a)({},l,t,{components:n,mdxType:"MDXLayout"}),Object(a.b)("h2",{id:"configuring-the-server"},"Configuring the server"),Object(a.b)("h3",{id:"command-line-options"},"Command line options"),Object(a.b)("p",null,"Execute ",Object(a.b)("inlineCode",{parentName:"p"},"wave -help")," to see all available command line options:"),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{}),'$ ./wave -help\nUsage of ./wave:\n  -access-key-id string\n        default access key ID (default "access_key_id")\n  -access-key-secret string\n        default access key secret (default "access_key_secret")\n  -compact string\n        compact AOF log\n  -data-dir string\n        directory to store site data (default "./data")\n  -debug\n        enable debug mode (profiling, inspection, etc.)\n  -init string\n        initialize site content from AOF log\n  -listen string\n        listen on this address (default ":55555")\n  -oidc-client-id string\n        OIDC client ID\n  -oidc-client-secret string\n        OIDC client secret\n  -oidc-end-session-url string\n        OIDC end session URL\n  -oidc-provider-url string\n        OIDC provider URL\n  -oidc-redirect-url string\n        OIDC redirect URL\n  -tls-cert-file string\n        path to certificate file (TLS only)\n  -tls-key-file string\n        path to private key file (TLS only)\n  -version\n        print version and exit\n  -web-dir string\n        directory to serve web assets from (default "./www")\n')),Object(a.b)("h2",{id:"configuring-your-app"},"Configuring your app"),Object(a.b)("p",null,"Your Wave application has a websocket server under the hood, called an ",Object(a.b)("em",{parentName:"p"},"app server"),". For convenience, when you run your app during development, the app server automatically picks an available port, and assumes that your Wave server is running at ",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"http://127.0.0.1:55555/"}),"http://127.0.0.1:55555/")," (localhost, port 55555). For production deployments, you'll want to configure which port your app listens to, how it can access the Wave server, and how the Wave server can access your app."),Object(a.b)("p",null,"You can use the following environment variables to configure your app's server's behavior:"),Object(a.b)("h3",{id:"h2o_wave_internal_address"},"H2O_WAVE_INTERNAL_ADDRESS"),Object(a.b)("p",null,"The local host/port on which the app server should listen. Defaults to ",Object(a.b)("inlineCode",{parentName:"p"},"ws://127.0.0.1:0")," (automatically picks an available port). For example, if you want your app to listen on a specific port, execute your app as follows (replace ",Object(a.b)("inlineCode",{parentName:"p"},"66666")," with a port number of your choice):"),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{}),"$ H2O_WAVE_INTERNAL_ADDRESS=ws://127.0.0.1:66666 ./venv/bin/python my_app.py\n")),Object(a.b)("h3",{id:"h2o_wave_external_address"},"H2O_WAVE_EXTERNAL_ADDRESS"),Object(a.b)("p",null,"The public host/port of the app server. Defaults to ",Object(a.b)("inlineCode",{parentName:"p"},"ws://127.0.0.1:0"),". Set this variable if you are running your Wave server and your app on different machine or containers."),Object(a.b)("h3",{id:"h2o_wave_address"},"H2O_WAVE_ADDRESS"),Object(a.b)("p",null,"The public host/port of the Wave server. Set this variable if you are running the Wave server on a remote machine or container."),Object(a.b)("h3",{id:"h2o_wave_access_key_id"},"H2O_WAVE_ACCESS_KEY_ID"),Object(a.b)("p",null,"The API access key ID to use for communicating with the Wave server."),Object(a.b)("h3",{id:"h2o_wave_access_key_secret"},"H2O_WAVE_ACCESS_KEY_SECRET"),Object(a.b)("p",null,"The API access key secret to use for communicating with the Wave server."))}p.isMDXComponent=!0},290:function(e,n,t){"use strict";t.d(n,"a",(function(){return u})),t.d(n,"b",(function(){return f}));var r=t(0),o=t.n(r);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var l=o.a.createContext({}),p=function(e){var n=o.a.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):c(c({},n),e)),t},u=function(e){var n=p(e.components);return o.a.createElement(l.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return o.a.createElement(o.a.Fragment,{},n)}},b=o.a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,a=e.originalType,i=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),u=p(t),b=r,f=u["".concat(i,".").concat(b)]||u[b]||d[b]||a;return t?o.a.createElement(f,c(c({ref:n},l),{},{components:t})):o.a.createElement(f,c({ref:n},l))}));function f(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var a=t.length,i=new Array(a);i[0]=b;var c={};for(var s in n)hasOwnProperty.call(n,s)&&(c[s]=n[s]);c.originalType=e,c.mdxType="string"==typeof e?e:r,i[1]=c;for(var l=2;l<a;l++)i[l]=t[l];return o.a.createElement.apply(null,i)}return o.a.createElement.apply(null,t)}b.displayName="MDXCreateElement"}}]);